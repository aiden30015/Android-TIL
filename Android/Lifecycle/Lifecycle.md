# Lifecylce

공식문서를 참고해서 작성했다.(번역기 어색한건 GPT를 사용했다.)

# 생명주기란?

안드로이드 앱에서 Activity는 앱의 사용자 인터페이스를 구성하는 주요 구성 요소 중 하나입니다. 사용자가 앱을 사용하다가 전화가 오거나 다른 앱을 확인한 후 다시 돌아올 때, Activity는 특정한 생명주기를 거치게 됩니다.

# 생명주기 개념

Activity 클래스는 6개의 생명주기 메소드를 제공한다.  
 `onCreat()` `onStart()` `onResume()` `onPause` `onStop` `onDestroy()` 시스템 활동이 전환될 때 각 메소드가 호출된다.  
 Activity가 종료되거나 다른 Activity가 실행되면 전 Activity를 잠시 꺼둬 메모리를 아끼고 다시 돌아왔을때 종료된 부분부터 다시 시작하게 할 수 있다.  
 Activity에 복잡도에 따라 , 모든 생명주기 메소드를 구현할 필요는 없다.

# onCreate()

시스템이 먼저 Activity를 생성할 때 생성되는 것으로,**필수적**으로 구현해야 한다.  
전체 생명 주기 동안 한 번만 실행된다.  
`onCreate()`는 savedInstanceState라는 정보를 받는데, 이것은 앱이 이전에 종료되었을 때 저장된 상태이다. 만약 이전에 앱이 종료된 적이 없다면, 이 값은 null이 된다.  
`onCreat()` 메서드가 실행이 완료되면 _Started_ 상태가 되고 `onStart()`를 호출한다.

# onStart()

_Started_ 상태가 되면 `onStart()`를 호출한다.  
 이 Activity를 통해 Activity가 사용자에게 앱이 포그라운드에 들어가 대화형이 될 수 있도록 준비한다.  
연결된 모든 수명 주기 인식 구성요소가 `ON_START` 이벤트를 수신한다.  
이 콜백이 완료되면 Activity는 _Resumed_ 상태가 되고 시스템에서 **onResume()** 콜백을 호출한다.

# onResume()

_Resumed_ 상태가 될때 **onResume()**을 호출합니다.  
이 상태에 들어갔을때는 앱이 사용자와 상호작용 합니다. 그리고 다른 일이 발생하지 않으면 앱은 이 상태로 유지된다.  
예를 들면 전화를 받거나, 다른 앱을 켜거나, 앱을 종료하는 경우가 아닌 이상 이 상태를 계속 유지한다.  
Activity가 _Resume_ 상태로 전환되면 `ON_RESUME` 이벤트를 처리합니다. 이 상태에서 수명 주기 구성요소가 포그라운드에서 사용자에게 보이는 동안 실행해야 하는 모든 기능을 활성화할 수 있다.  
방해되는 이벤트가 발생하면 Activity는 _Paused_ 상태가 되고 시스템은 **onPause()** 콜백을 호출한다.

# onPause()

시스템은 방해 이벤트가 발생되면 제일 처음 이 메소드를 호출한다. 하지만 항상 Activity가 종료됬음을 나타내지는 않는다.  
Activity가 더 이상 포그라운드에 있지 않음을 나타내지만 사용자가 멀티 윈도우 모드에 있는 경우에도 계속 표시됩니다.  
_Paused_ 상태가 되는 사례로는

- 앱 실행을 방해하는 이벤트 `onResume()` 콜백이 호출되면 현재 활동을 중지한다.(가장 대표적인 사례)
- 멀티 원도우 모드에서 다른 앱에 포커스가 있을경우 다른 앱을 일시중지 합니다
- 기존 Activity는 `onPause()` 상태로 전환되어 화면에 보일 수는 있지만 포커스를 잃고 일시중지된다.

Activiy가 _Paused_ 상태가 전환되면 모든 생명 주기 인식 구성요소가 `ON_PAUSE` 이벤트를 수신한다. 여기에서 수명 주기 구성요소는 구성요소가 포그라운드에 있지 않을 때 실행할 필요가 없는 기능을 모두 정지할 수 있다.

`onPause()`는 매우 짧은 시간 동안만 실행될 수 있어서 저장 작업을 완료하기에 충분한 시간을 제공하지 못할 수 있다. 따라서 애플리케이션이나 사용자 데이터를 저장하는 작업을 `onPause()`에서 수행하지 않는 것이 좋다. 대신, 네트워크 호출이나 데이터베이스 트랜잭션과 같은 작업을 시작할 수는 있지만, 이러한 작업이 완료될 때까지 기다릴 필요는 없다. 생명주기 이벤트를 처리할 때는 더 적절한 시점에 중요한 데이터를 저장해야 한다.

`onPause()` 메서드의 실행이 완료되더라도 활동이 일시중지 상태로 남아 있을 수 있다. 오히려 Activity는 Activity가 *Resumed*가 되거나 완전히 정지되기 전까지 이 상태를 유지된다. 전화를 끝마치고 난 후 다시 앱으로 들어가면 _Resumed_ 상태가 되면서 `onResume()` 콜백을 호출한다.

# onStop()

Activity가 더 이상 사용자에게 표시되지 않으면 _Stoped_ 상태가 되면서 `onStop()`을 콜백한다.  
Activity가 _Stoped_ 상태로 전환되면 연결된 모든 생명 주기 인식 구성요소가 `ON_STOP` 이벤트를 수신한다. 여기에서 생명주기 구성요소는 구성요소가 화면에 보이지 않을 때 실행할 필요가 없는 기능을 모두 정지할 수 있습니다.  
`onStop()` 메소드는 불필요한 리소스를 모두 회수할 수 있다.  
Activity는 _Stoped_ 상태에서 다시 시작하여 사용자와 상호작용 하거나 실행을 종료하고 사라진다.  
Activity가 다시 시작되면 시스템은 `onRestart()`를 호출 한다. Activity가 실행을 종료하면 시스템은 `onDestroy()`를 호출한다.

# onDestroy()

`onDestroy()`는 Activity가 소멸되기 전에 호출됩니다.  
 시스템은 다음 두 가지 이유 중 하나로 이 콜백을 호출합니다.

1. 사용자 원인으로 `finish()`상태일때 호출된다.
2. Android에서 기기의 회전이나 멀티 윈도우 모드 전환과 같은 특정 이벤트가 발생하면, 시스템은 현재의 Activity를 일시적으로 종료하고, 구성을 변경한 후 새로 Activity를 다시 생성할 수 있습니다. 이때 생명주기 메서드인 `onDestroy()`가 호출될 수 있다.

Activity가 _Destroyed_ 상태가 되면 `ON_DESTROY` 이벤트를 수신한다. 여기에서 생명 주기 요소가 시작하기 전에 모든 것을 정리할 수 있습니다.  
Activity가 종료되면 `onDestroy()`는 활동을 종료하는 마지막 생명 주기 콜백이다.구성 결과로 `onDestroy()`가 호출되는 경우 시스템이 즉시 새 Activity 인스턴스를 생성한 다음 새 구성으로 새 인스턴스에서 실행할 수 있다.

`onDestroy()` 콜백은 이전에 해제되지 않은 모든 리소스를 해제합니다. (예: onStop()) 콜백

# 끝

틀린부분이나 추가할 부분있으면 말해주세요.
